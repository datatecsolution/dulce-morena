<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dulce Morena | Catálogo Digital</title>

    <!-- 1. Cargamos Tailwind CSS para el diseño -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- 2. Cargamos React y ReactDOM desde Internet (CDN) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <!-- 3. Cargamos Babel para que el navegador entienda el código moderno -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Estilos extra para scroll suave -->
    <style>
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        html {
            scroll-behavior: smooth;
        }

        /* Animaciones personalizadas */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes slideUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        .animate-slide-up {
            animation: slideUp 0.5s ease-out;
        }
    </style>
</head>

<body class="bg-[#FDFBFC]">

    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- ICONOS SVG (Manuales para no depender de librerías externas) ---
        const Icon = ({ path, size = 18, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {path}
            </svg>
        );

        const Icons = {
            Menu: <Icon path={<><line x1="4" x2="20" y1="12" y2="12" /><line x1="4" x2="20" y1="6" y2="6" /><line x1="4" x2="20" y1="18" y2="18" /></>} size={24} />,
            X: <Icon path={<><path d="M18 6 6 18" /><path d="m6 6 12 12" /></>} size={24} />,
            ShoppingBag: <Icon path={<><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z" /><path d="M3 6h18" /><path d="M16 10a4 4 0 0 1-8 0" /></>} />,
            Star: <Icon path={<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />} />,
            Phone: <Icon path={<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" />} size={24} />,
            ChevronRight: <Icon path={<path d="m9 18 6-6-6-6" />} size={14} />,
            Plus: <Icon path={<><path d="M5 12h14" /><path d="M12 5v14" /></>} size={14} />,
            Minus: <Icon path={<path d="M5 12h14" />} size={14} />,
            // CORREGIDO: Se agregaron fragmentos <>...</> para agrupar los paths múltiples
            Wheat: <Icon path={<><path d="M2 22 16 8" /><path d="M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L2 22l4.53-4.53a3.5 3.5 0 0 1 4.94 0L13 19l-1.53 1.53" /><path d="M8 8 22 22" /><path d="M11 5 12.53 3.47a3.5 3.5 0 0 1 4.94 0L22 8l-4.53 4.53a3.5 3.5 0 0 1 0 4.94L19 13l1.53-1.53" /><path d="M16 8 22 2" /></>} />,
            Cake: <Icon path={<><path d="M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8" /><path d="M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1" /><path d="M2 21h20" /><path d="M7 8v2" /><path d="M12 8v2" /><path d="M17 8v2" /><path d="M7 4h.01" /><path d="M12 4h.01" /><path d="M17 4h.01" /></>} />,
            Croissant: <Icon path={<><path d="m10 8 2 1 2-1" /><path d="M4.6 15l-1.6 2.3a2.4 2.4 0 0 0 3.6 2.7l1.7-.8" /><path d="M17.4 19.2 19 20a2.4 2.4 0 0 0 3.6-2.7l-1.6-2.3" /><path d="M6 13a6 6 0 0 1 12 0v2H6z" /></>} />
        };

        // --- CONFIGURACIÓN Y DATOS ---
        const PHONE_NUMBER = '50499403754';

        const theme = {
            primary: '#9B0085',
            accent: '#E30067',
            neutral: '#DAD6D7',
            bg: '#FDFBFC',
        };

        const categories = [
            { id: 'todo', name: 'Todo', icon: Icons.Star },
            { id: 'panaderia', name: 'Panadería', icon: Icons.Wheat },
            { id: 'postres', name: 'Postres', icon: Icons.Cake },
            { id: 'antojos', name: 'Antojos', icon: Icons.Croissant },
        ];

        const products = [
            // --- PANADERÍA ---
            { id: 1, name: 'Semita Concha', price: 16, category: 'panaderia', description: 'Suave y esponjosa, con costra dulce crujiente.', image: 'Suave y esponjosa, con costra dulce crujiente.', image: 'https://i.postimg.cc/MG3g735M/semita-concha.png' },
            { id: 2, name: 'Semita Casera', price: 17, category: 'panaderia', description: 'La receta de la abuela, perfecta para el café.', image: 'https://i.postimg.cc/FF8BpnSr/semita_casera2.jpg' },
            { id: 4, name: 'Quesadilla', price: 27, category: 'panaderia', description: 'Torta de queso tradicional, doradita y húmeda.', image: 'https://i.postimg.cc/3wvBdLk2/quesadilla.avif' },
            { id: 5, name: 'Pan de Coco', price: 16, category: 'panaderia', description: 'Aromático con auténtico coco rallado.', image: 'https://i.postimg.cc/43cdK0pp/pan_coco.jpg' },
            { id: 6, name: 'Pan de Banano', price: 25, category: 'panaderia', description: 'Denso, húmedo y cargado de sabor a banano maduro.', image: 'https://i.postimg.cc/FKSRf60j/pan_banano.jpg' },
            { id: 7, name: 'Pan de Zanahoria', price: 30, category: 'panaderia', description: 'Bizcocho especiado y húmedo de zanahoria.', image: 'https://i.postimg.cc/yYnBbjYj/pan_zanahoria.avif' },
            { id: 8, name: 'Pan de Zanahoria con Crema', price: 35, category: 'panaderia', description: 'Nuestro pan de zanahoria con un toque cremoso extra.', image: 'https://i.postimg.cc/yYnBbjYj/pan_zanahoria.avif' },
            { id: 9, name: 'Pan Pizza', price: 55, category: 'panaderia', description: 'Pan especial salado tipo pizza.', image: 'https://i.postimg.cc/N0XMynR8/pan_pizza.jpg' },
            { id: 10, name: 'Pan Baguette Sencillo', price: 40, category: 'panaderia', description: 'Barra de pan crujiente por fuera y suave por dentro.', image: 'https://i.postimg.cc/gjdN9vkn/Pan_bagget_c.jpg' },
            { id: 30, name: 'Pan Baguette Preparado', price: 55, category: 'panaderia', description: 'Delicioso baguette preparado con Queso y Jamón.', image: 'https://i.postimg.cc/gjdN9vkn/Pan_bagget_c.jpg' },
            { id: 11, name: 'Pan Trenza', price: 55, category: 'panaderia', description: 'Hermoso pan trenzado, ideal para compartir.', image: 'https://i.postimg.cc/nc9C8Ng2/pan_trenza.avif' },
            { id: 27, name: 'Pan de Pan', price: 25, category: 'panaderia', description: 'Pan de caja artesanal suave y fresco.', image: 'https://i.postimg.cc/W4Z3Dy0G/pan_de_pan.jpg' },
            { id: 31, name: 'Croissant Sencillo', price: 25, category: 'panaderia', description: 'Clásico cuernito de mantequilla hojaldrado.', image: 'https://i.postimg.cc/NMw0Rxxr/croissant.jpg' },
            { id: 32, name: 'Croissant Relleno', price: 40, category: 'panaderia', description: 'Nuestro croissant especial con relleno.', image: 'https://i.postimg.cc/NMw0Rxxr/croissant.jpg' },

            // --- POSTRES ---
            { id: 12, name: 'Tres Leches (Personal)', price: 55, category: 'postres', description: 'Bizcocho húmedo cubierto de merengue suave.', image: 'https://i.postimg.cc/CLwS7X0P/tres_leches.avif' },
            { id: 33, name: 'Tres Leches (Pequeño)', price: 150, category: 'postres', description: 'Pastel Tres Leches tamaño pequeño para compartir.', image: 'https://i.postimg.cc/vmPsZLNZ/tres_leches_peq.jpg' },
            { id: 34, name: 'Tres Leches (Mediano)', price: 480, category: 'postres', description: 'Pastel Tres Leches tamaño mediano, ideal para reuniones.', image: 'https://i.postimg.cc/vmPsZLNZ/tres_leches_peq.jpg' },
            { id: 35, name: 'Tres Leches (Grande)', price: 880, category: 'postres', description: 'Nuestro gran pastel Tres Leches para celebraciones.', image: 'https://i.postimg.cc/vmPsZLNZ/tres_leches_peq.jpg' },
            { id: 13, name: 'Brazo Gitano', price: 30, category: 'postres', description: 'Rollo suave tradicional con jalea.', image: 'https://i.postimg.cc/mksR06Hd/brazo_jitano.jpg' },
            { id: 28, name: 'Brazo Gitano con Crema', price: 30, category: 'postres', description: 'Rollo suave con un toque extra de crema.', image: 'https://i.postimg.cc/mksR06Hd/brazo_jitano.jpg' },
            { id: 14, name: 'Flan de la Casa', price: 65, category: 'postres', description: 'Cremoso flan de vainilla con caramelo.', image: 'https://i.postimg.cc/ZKjZMHKq/flan.avif' },
            { id: 15, name: 'Choflan', price: 75, category: 'postres', description: 'La mezcla perfecta de pastel de chocolate y flan.', image: 'https://i.postimg.cc/Y2ZsRyFt/choco_flan.jpg' },
            { id: 16, name: 'Mosaico', price: 13, category: 'postres', description: 'Divertida y refrescante gelatina de colores.', image: 'https://i.postimg.cc/L8dhmNFz/galleta_mosaico.avif' },
            { id: 17, name: 'Tartaleta Pequeña', price: 35, category: 'postres', description: 'Base crujiente con crema pastelera y fruta fresca.', image: 'https://i.postimg.cc/6q0zByyL/tartaleta_peq.avif' },
            { id: 18, name: 'Tartaleta Grande', price: 55, category: 'postres', description: 'Versión grande de nuestra tartaleta de frutas.', image: 'https://i.postimg.cc/FHqpFtsx/tartaleta_grand.avif' },
            { id: 36, name: 'Cheesecake', price: 85, category: 'postres', description: 'Pastel de queso cremoso y delicioso.', image: 'https://images.unsplash.com/photo-1533134242443-d4fd215305ad?auto=format&fit=crop&q=80&w=300' },
            { id: 37, name: 'Tiramisú', price: 85, category: 'postres', description: 'Postre italiano con café y mascarpone.', image: 'https://i.postimg.cc/x83YYyvL/tiramizu.jpg' },
            { id: 38, name: 'Tortas con Caramelo', price: 170, category: 'postres', description: 'Exquisita torta bañada en caramelo.', image: 'https://i.postimg.cc/W49v16Hb/torta_caramelo.jpg' },

            // --- ANTOJOS ---
            { id: 19, name: 'Donas Sencillas', price: 20, category: 'antojos', description: 'Clásica dona glaseada o azucarada.', image: 'https://i.postimg.cc/bJKf1VTK/Dona-sencilla.jpg' },
            { id: 20, name: 'Dona Rellena', price: 27, category: 'antojos', description: 'Explosión de sabor con dulce de leche.', image: 'https://i.postimg.cc/MKtxF5KV/dona_rellena.avif' },
            { id: 21, name: 'Roles de Canela Pequeños', price: 35, category: 'antojos', description: 'Glaseado especial y mucha canela.', image: 'https://images.unsplash.com/photo-1509365465985-25d11c17e812?auto=format&fit=crop&q=80&w=300' },
            { id: 29, name: 'Roles de Canela Medianos', price: 45, category: 'antojos', description: 'Rol de canela tamaño mediano glaseado.', image: 'https://images.unsplash.com/photo-1509365465985-25d11c17e812?auto=format&fit=crop&q=80&w=300' },
            { id: 22, name: 'Pastelitos de Piña', price: 17, category: 'antojos', description: 'Bocaditos rellenos de mermelada de piña.', image: 'https://i.postimg.cc/qqT09Z3b/pastelito_pinia.jpg' },
            { id: 23, name: 'Empanadilla de Cuajada', price: 17, category: 'antojos', description: 'El equilibrio perfecto entre dulce y salado.', image: 'https://i.postimg.cc/jdnLVBm4/empanadilla_queso.avif' },
            { id: 39, name: 'Empanada de Pollo', price: 30, category: 'antojos', description: 'Empanada salada rellena de pollo.', image: 'https://i.postimg.cc/SspKcGGM/empanada_pollo.jpg' },
            { id: 24, name: 'Galletas de Avena', price: 25, category: 'antojos', description: 'Crujientes galletas de avena y granola.', image: 'https://i.postimg.cc/qBsp80Pm/galleta_granola.avif' },
            { id: 25, name: 'Polvorón', price: 8, category: 'antojos', description: 'Galleta de mantequilla que se deshace en la boca.', image: 'https://i.postimg.cc/hPKcs6nN/polvorones.avif' },
            { id: 26, name: 'Trujer', price: 17, category: 'antojos', description: 'Delicia tradicional ideal para meriendas.', image: 'https://i.postimg.cc/Wzwjj6G7/trujer.jpg' },
        ];

        // --- COMPONENTES ---

        const openWhatsApp = (message) => {
            const url = `https://wa.me/${PHONE_NUMBER}?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
        };

        const ProductCard = ({ product, qty, onUpdateCart }) => {
            const handleIncrement = () => onUpdateCart(product.id, 1);
            const handleDecrement = () => onUpdateCart(product.id, -1);

            return (
                <div className={`bg-white rounded-2xl shadow-sm border overflow-hidden flex flex-row h-36 mb-4 transition-all duration-300 group ${qty > 0 ? 'ring-2 ring-offset-2' : ''}`} style={{ borderColor: theme.neutral, ringColor: theme.accent }}>
                    <div className="w-32 h-full flex-shrink-0 relative bg-gray-100">
                        <img src={product.image} alt={product.name} className="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500" />
                        <div className="absolute top-2 left-2 bg-white/95 backdrop-blur-sm px-2 py-1 rounded-lg text-xs font-bold shadow-sm" style={{ color: theme.accent }}>
                            L {product.price.toFixed(2)}
                        </div>
                        {qty > 0 && (
                            <div className="absolute inset-0 bg-black/40 flex items-center justify-center backdrop-blur-[1px] animate-fade-in">
                                <span className="text-white font-bold text-2xl drop-shadow-md">{qty}</span>
                            </div>
                        )}
                    </div>
                    <div className="p-4 flex flex-col justify-between w-full relative">
                        <div>
                            <h3 className="font-serif text-lg font-bold text-gray-800 leading-tight mb-1">{product.name}</h3>
                            <p className="text-xs text-gray-500 line-clamp-2 mb-2 font-light">{product.description}</p>
                        </div>

                        <div className="flex items-center justify-end mt-1">
                            {qty === 0 ? (
                                <button
                                    onClick={handleIncrement}
                                    className="px-4 py-2 text-xs font-bold uppercase tracking-wider flex items-center gap-1 rounded-lg transition-all hover:bg-gray-50 active:scale-95"
                                    style={{ color: theme.primary, border: `1px solid ${theme.neutral}` }}
                                >
                                    Agregar {Icons.Plus}
                                </button>
                            ) : (
                                <div className="flex items-center bg-gray-50 rounded-lg border shadow-sm animate-scale-in" style={{ borderColor: theme.neutral }}>
                                    <button onClick={handleDecrement} className="w-9 h-8 flex items-center justify-center text-gray-600 hover:bg-gray-200 rounded-l-lg transition-colors active:bg-gray-300">
                                        {Icons.Minus}
                                    </button>
                                    <span className="text-sm font-bold w-6 text-center text-gray-800">{qty}</span>
                                    <button onClick={handleIncrement} className="w-9 h-8 flex items-center justify-center text-white rounded-r-lg transition-colors active:opacity-90" style={{ backgroundColor: theme.accent }}>
                                        {Icons.Plus}
                                    </button>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const CartModal = ({ cart, products, onClose, onUpdateCart, onClearCart }) => {
            const cartItems = Object.entries(cart).map(([id, qty]) => {
                const product = products.find(p => p.id === parseInt(id));
                return { ...product, qty };
            });

            const total = cartItems.reduce((sum, item) => sum + (item.price * item.qty), 0);

            const handleCheckout = () => {
                let message = "Hola Dulce Morena, me gustaría realizar el siguiente pedido:\n\n";
                cartItems.forEach(item => {
                    message += `• *${item.qty}x* ${item.name} (L ${(item.price * item.qty).toFixed(2)})\n`;
                });
                message += `\n*TOTAL: L ${total.toFixed(2)}*`;
                message += `\n\nQuedo pendiente de la confirmación. Gracias.`;

                openWhatsApp(message);
                onClearCart();
                onClose();
            };

            return (
                <div className="fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 bg-black/40 backdrop-blur-sm animate-fade-in">
                    <div className="bg-white w-full max-w-md h-[85vh] sm:h-auto rounded-t-3xl sm:rounded-3xl shadow-2xl flex flex-col overflow-hidden animate-slide-up">
                        <div className="p-5 border-b flex justify-between items-center bg-gray-50" style={{ borderColor: theme.neutral }}>
                            <h2 className="font-serif text-xl font-bold text-gray-800 flex items-center gap-2">
                                <span style={{ color: theme.primary }}>{Icons.ShoppingBag}</span> Tu Pedido
                            </h2>
                            <button onClick={onClose} className="p-2 bg-gray-200 rounded-full hover:bg-gray-300 text-gray-600 transition-colors">
                                {Icons.X}
                            </button>
                        </div>

                        <div className="flex-1 overflow-y-auto p-5 space-y-4">
                            {cartItems.length === 0 ? (
                                <div className="text-center py-10 text-gray-400">
                                    <div className="mx-auto mb-3 opacity-20 flex justify-center scale-150">{Icons.ShoppingBag}</div>
                                    <p>Tu carrito está vacío.</p>
                                    <button onClick={onClose} className="mt-4 text-sm font-bold underline" style={{ color: theme.primary }}>Volver al menú</button>
                                </div>
                            ) : (
                                cartItems.map(item => (
                                    <div key={item.id} className="flex items-center justify-between border-b pb-4 last:border-0 border-gray-100">
                                        <div className="flex items-center gap-3">
                                            <div className="w-12 h-12 rounded-lg bg-gray-100 overflow-hidden">
                                                <img src={item.image} alt="" className="w-full h-full object-cover" />
                                            </div>
                                            <div>
                                                <h4 className="font-bold text-sm text-gray-800">{item.name}</h4>
                                                <p className="text-xs text-gray-500">L {item.price.toFixed(2)} c/u</p>
                                            </div>
                                        </div>
                                        <div className="flex items-center gap-3">
                                            <div className="flex items-center bg-gray-100 rounded-lg">
                                                <button onClick={() => onUpdateCart(item.id, -1)} className="p-1 px-2 hover:bg-gray-200 rounded-l-lg text-gray-600 flex items-center justify-center h-full">{Icons.Minus}</button>
                                                <span className="text-xs font-bold w-4 text-center">{item.qty}</span>
                                                <button onClick={() => onUpdateCart(item.id, 1)} className="p-1 px-2 hover:bg-gray-200 rounded-r-lg text-gray-600 flex items-center justify-center h-full">{Icons.Plus}</button>
                                            </div>
                                            <div className="font-bold text-sm min-w-[60px] text-right" style={{ color: theme.accent }}>
                                                L {(item.price * item.qty).toFixed(2)}
                                            </div>
                                        </div>
                                    </div>
                                ))
                            )}
                        </div>

                        {cartItems.length > 0 && (
                            <div className="p-5 bg-gray-50 border-t" style={{ borderColor: theme.neutral }}>
                                <div className="flex justify-between items-center mb-4 text-gray-800">
                                    <span className="text-sm font-medium">Total Estimado</span>
                                    <span className="text-2xl font-black" style={{ color: theme.primary }}>L {total.toFixed(2)}</span>
                                </div>
                                <button
                                    onClick={handleCheckout}
                                    className="w-full py-4 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-transform"
                                    style={{ backgroundColor: '#25D366' }}
                                >
                                    {Icons.Phone}
                                    Enviar Pedido por WhatsApp
                                </button>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const App = () => {
            const [activeCategory, setActiveCategory] = useState('todo');
            const [isMenuOpen, setIsMenuOpen] = useState(false);
            const [cart, setCart] = useState({});
            const [showCart, setShowCart] = useState(false);

            const clearCart = () => {
                setCart({});
            };

            const updateCart = (productId, delta) => {
                setCart(prev => {
                    const current = prev[productId] || 0;
                    const next = Math.max(0, current + delta);
                    if (next === 0) {
                        const { [productId]: _, ...rest } = prev;
                        return rest;
                    }
                    return { ...prev, [productId]: next };
                });
            };

            const totalItems = Object.values(cart).reduce((a, b) => a + b, 0);
            const totalPrice = Object.entries(cart).reduce((sum, [id, qty]) => {
                const product = products.find(p => p.id === parseInt(id));
                return sum + (product ? product.price * qty : 0);
            }, 0);

            const filteredProducts = activeCategory === 'todo' ? products : products.filter(p => p.category === activeCategory);

            return (
                <div className="min-h-screen font-sans selection:text-white pb-24" style={{ backgroundColor: theme.bg, selectionBackgroundColor: theme.accent }}>

                    {/* HEADER */}
                    <header className="sticky top-0 z-40 bg-white/90 backdrop-blur-md border-b" style={{ borderColor: theme.neutral }}>
                        <div className="max-w-md mx-auto px-6 py-4 flex justify-between items-center">
                            <div className="flex flex-col">
                                <span className="text-[10px] font-bold tracking-[0.2em] uppercase mb-0.5" style={{ color: theme.accent }}>Pastelería</span>
                                <h1 className="text-2xl font-serif font-black tracking-tight" style={{ color: theme.primary }}>Dulce Morena</h1>
                            </div>
                            <button onClick={() => setIsMenuOpen(!isMenuOpen)} className="text-gray-500 p-2 hover:bg-gray-100 rounded-full transition-colors">
                                {isMenuOpen ? Icons.X : Icons.Menu}
                            </button>
                        </div>
                    </header>

                    {/* MENU DROPDOWN */}
                    {isMenuOpen && (
                        <div className="fixed inset-0 z-30 bg-black/50" onClick={() => setIsMenuOpen(false)}>
                            <div className="absolute top-[80px] right-0 bg-white w-64 shadow-xl rounded-bl-3xl p-4 flex flex-col gap-2" onClick={e => e.stopPropagation()}>
                                <div className="p-3 text-sm text-gray-500">
                                    <p className="font-bold text-gray-800">Dulce Morena</p>
                                    <p>Repostería Artesanal</p>
                                    <p className="mt-2 text-xs">Horario: 8am - 6pm</p>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* HERO BANNER */}
                    <div className="max-w-md mx-auto px-6 py-8">
                        <div className="rounded-3xl p-8 text-white relative overflow-hidden shadow-2xl" style={{ backgroundColor: theme.primary, boxShadow: `0 20px 25px -5px ${theme.primary}40` }}>
                            <div className="absolute inset-0 z-0" style={{ backgroundImage: 'url("https://images.unsplash.com/photo-1555507036-ab1f4038808a?auto=format&fit=crop&q=80&w=1000")', backgroundSize: 'cover', backgroundPosition: 'center', opacity: 0.25, mixBlendMode: 'overlay' }} />
                            <div className="absolute inset-0 z-0 bg-gradient-to-r from-black/50 to-transparent"></div>
                            <div className="relative z-10">
                                <h2 className="font-serif text-3xl mb-2 drop-shadow-md">Horneamos felicidad</h2>
                                <p className="text-white/90 text-sm mb-6 max-w-[200px] drop-shadow-sm font-medium">Descubre el sabor artesanal que nos hace únicos en cada mordida.</p>
                                <button onClick={() => window.scrollTo({ top: 500, behavior: 'smooth' })} className="bg-white px-5 py-2.5 rounded-xl text-sm font-bold shadow-lg active:bg-gray-100 transition-transform active:scale-95" style={{ color: theme.primary }}>Ver Menú</button>
                            </div>
                        </div>
                    </div>

                    {/* FILTROS */}
                    <div className="max-w-md mx-auto pl-6 overflow-x-auto pb-6 scrollbar-hide flex gap-3">
                        {categories.map(cat => (
                            <button
                                key={cat.id}
                                onClick={() => setActiveCategory(cat.id)}
                                className={`whitespace-nowrap px-5 py-2 rounded-full text-sm font-medium transition-all flex items-center gap-2 ${activeCategory !== cat.id && 'hover:bg-gray-50'}`}
                                style={{ backgroundColor: activeCategory === cat.id ? theme.primary : 'white', color: activeCategory === cat.id ? 'white' : '#666', border: activeCategory === cat.id ? 'none' : `1px solid ${theme.neutral}` }}
                            >
                                {cat.icon} {cat.name}
                            </button>
                        ))}
                    </div>

                    {/* LISTA DE PRODUCTOS */}
                    <main className="max-w-md mx-auto px-6">
                        <div className="flex items-center justify-between mb-4">
                            <h3 className="font-bold text-gray-800 text-lg">{categories.find(c => c.id === activeCategory)?.name}</h3>
                            <span className="text-xs font-medium" style={{ color: theme.neutral }}>{filteredProducts.length} productos</span>
                        </div>
                        {filteredProducts.map(product => (
                            <ProductCard
                                key={product.id}
                                product={product}
                                qty={cart[product.id] || 0}
                                onUpdateCart={updateCart}
                            />
                        ))}
                    </main>

                    {/* BOTÓN FLOTANTE / BARRA DE CARRITO */}
                    <div className="fixed bottom-6 left-0 right-0 px-6 z-40 max-w-md mx-auto pointer-events-none">
                        <div className="pointer-events-auto">
                            {totalItems > 0 ? (
                                <button
                                    onClick={() => setShowCart(true)}
                                    className="w-full bg-stone-900 text-white p-4 rounded-2xl shadow-xl flex items-center justify-between animate-slide-up hover:bg-black transition-colors"
                                    style={{ backgroundColor: theme.primary }}
                                >
                                    <div className="flex items-center gap-3">
                                        <div className="bg-white/20 px-3 py-1 rounded-lg font-bold text-sm">{totalItems}</div>
                                        <span className="font-medium text-sm">Ver mi Pedido</span>
                                    </div>
                                    <div className="font-bold text-lg">L {totalPrice.toFixed(2)}</div>
                                </button>
                            ) : (
                                <div className="flex justify-end">
                                    <button
                                        onClick={() => openWhatsApp("Hola Dulce Morena, tengo una consulta.")}
                                        className="bg-[#25D366] hover:bg-[#1ebd59] text-white p-4 rounded-full shadow-xl flex items-center gap-2 transition-transform hover:scale-105 active:scale-95 border-2 border-white"
                                    >
                                        {Icons.Phone}
                                    </button>
                                </div>
                            )}
                        </div>
                    </div>

                    {/* MODAL DE CARRITO */}
                    {showCart && (
                        <CartModal
                            cart={cart}
                            products={products}
                            onClose={() => setShowCart(false)}
                            onUpdateCart={updateCart}
                            onClearCart={clearCart}
                        />
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>